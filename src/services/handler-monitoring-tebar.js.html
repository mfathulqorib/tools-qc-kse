<script>
  function handlingChangeFarmersMonitoringTebar() {
    $('#list-petani').on('change', (e) => {
      const value = $(e.target).val().split(' ');
      const nama = value.slice(0, value.length - 2);
      const leadId = value.slice(value.length - 1);

      $('.on-farmers-change').prop('disabled', false)
      $('.on-farmers-change').val('')
      $('#nama').val(nama.join(' '));
      $('#lead-id').val(leadId);
      createListPonds()
    });
  }

  function functionInit(){
    try {
      $(window).on('beforeunload', showModalsOnLoading)
      $('#loading-button').hide();
      preventFormSubmit('form-monitoring-tebar');
      createListArea();
      createListOnPageLoad();
      handlingChangeArea();
      handlingChangeFarmersMonitoringTebar();
    }
    catch(err) {
      onFailure(err)
    }
  };

  $(document).ready(functionInit);
</script>